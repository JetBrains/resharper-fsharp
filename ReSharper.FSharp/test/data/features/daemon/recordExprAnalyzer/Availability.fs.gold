type Record0 = { Foo: int; Bar: int }
type Record1 = { Foo: int; Bar: int; Zoo: Record0 }

[<AutoOpen>]
module Module =
    type Record2 = { Foo: Record1; Bar: Record1 }
    let item: Record2 = null

let item = Module.item
let item2 = item

// Available
ignore { item with |Foo = { item.Foo with Foo = 3 }|(0) }
ignore { item with |Foo.Zoo = { item.Foo.Zoo with Foo = 3 }|(1) }
ignore { Module.item with |Foo = { Module.item.Foo with Foo = 3 }|(2) }
ignore { (Module.item) with |Foo = ({ Module.item.Foo with Foo = 3 })|(3) }
ignore { item with |Foo = { item.Foo with Zoo = { Foo = 3; Bar = 4 } }|(4) }
ignore { item with |Module.Record2.Foo.Zoo = { item.Foo.Zoo with Foo = 3 }|(5) }
ignore { item with |Foo = { item.Foo with Zoo = { item.Bar.Zoo with Foo = 3 } }|(6) }
ignore { item with |Foo = { item.Foo with Zoo = { item.Foo.Zoo with Foo = 3 } }|(7) }
ignore { item with Bar = { item.Foo with |Zoo = { item.Foo.Zoo with Bar = 3 }|(8) } }
ignore { Module.item with Foo = { item.Foo with |Zoo = { item.Foo.Zoo with Foo = 3 }|(9) } }
ignore { item with |Foo = { item.Foo with Foo = 3 };|(10) |Bar = { item.Bar with Foo = 3 }|(11) }

// Not available
ignore { item with Foo = { item.Bar with Foo = 3} }
ignore { Module.item with Foo = { item.Foo with Foo = 3 } }
ignore { item with Foo = { Foo = 3; Bar = 3; Zoo = null } }
ignore { item with Foo = { item.Foo with Foo = 3; Bar = 3 } }
ignore { item with Foo = { item2.Foo with Foo = 3 } }

---------------------------------------------------------
(0): ReSharper Suggestion: Nested with can be simplified
(1): ReSharper Suggestion: Nested with can be simplified
(2): ReSharper Suggestion: Nested with can be simplified
(3): ReSharper Suggestion: Nested with can be simplified
(4): ReSharper Suggestion: Nested with can be simplified
(5): ReSharper Suggestion: Nested with can be simplified
(6): ReSharper Suggestion: Nested with can be simplified
(7): ReSharper Suggestion: Nested with can be simplified
(8): ReSharper Suggestion: Nested with can be simplified
(9): ReSharper Suggestion: Nested with can be simplified
(10): ReSharper Suggestion: Nested with can be simplified
(11): ReSharper Suggestion: Nested with can be simplified
