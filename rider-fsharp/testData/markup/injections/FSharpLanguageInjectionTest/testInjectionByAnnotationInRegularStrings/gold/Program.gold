namespace System.Diagnostics.CodeAnalysis

open System

[<AttributeUsage(AttributeTargets.Parameter
                 ||| AttributeTargets.Field
                 ||| AttributeTargets.Property)>]
type StringSyntaxAttribute(syntax: string) =
    inherit Attribute()
    member x.Syntax = syntax


namespace JetBrains.Annotations

open System

type InjectedLanguage =
    | CSS = 0
    | HTML = 1
    | JAVASCRIPT = 2
    | JSON = 3
    | XML = 4

[<AttributeUsage(AttributeTargets.Parameter
                 ||| AttributeTargets.Field
                 ||| AttributeTargets.Property)>]
type LanguageInjectionAttribute(injectedLanguage: InjectedLanguage) =
    inherit Attribute()
    member x.InjectedLanguage = injectedLanguage
    member val Prefix = "" with get, set
    member val Suffix = "" with get, set

namespace Test

open System.Diagnostics.CodeAnalysis
open JetBrains.Annotations


type C =
    [<StringSyntax("json")>]
    member x.JsonProperty = "<frontend:INJECTED_FRAGMENT>[ { \"key\": \"value\" } ]</frontend:INJECTED_FRAGMENT>"

    [<LanguageInjection(InjectedLanguage.XML)>]
    member x.XmlField = "<frontend:INJECTED_FRAGMENT><tag1><tag2 attr=\"value\"/></tag1></frontend:INJECTED_FRAGMENT>"

    member x.Foo([<StringSyntax("css")>] _arg) = x.Foo("<frontend:INJECTED_FRAGMENT>.my-awesome-class {}</frontend:INJECTED_FRAGMENT>")
